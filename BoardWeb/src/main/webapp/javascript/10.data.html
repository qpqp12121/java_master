<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>data.html</title>
  <style>
    .goodsimg {
      width: 200px;
    }

    .goodsborder {
      border: 8px solid rgb(255, 175, 175);
    }
  </style>
</head>

<body>

  <!--지정: data-속성="값" //속성(변수명)은 소문자 //원래 input hidden..로하던거
      값읽기: 요소선택.dataset.속성-->
      
  <div class="goods">
    <h1>상품1</h1>
    <img src="/images/사과.jpg" class="goodimg goodsborder">
    <div>가격: 1000</div>
    <div>
      <button data-goodno="g1" class="btnOrder" data-price="1000">주문</button>
    </div>
  </div>
  <!-- <div class="goods">
    <h1>상품2</h1>
    <img src="/images/블루베리.jpg">
    <div>가격: 2000</div>
    <div>
      <button data-goodno="g2" class="btnOrder" data-price="2000">주문</button>
    </div>
  </div> -->

  <script>
    const btnOrders = document.querySelectorAll('.btnOrder');
    // btnOrders[0].addEventListener('click', ()=> alert('클릭되었습니다'));

    // btnOrders[0].addEventListener('click', function(){
    //   //debugger //멈춰서 볼 수 있음(?)
    //   //console.log(window.event);
    //   console.log(event.target.dataset.goodno);
    // });

    // btnOrders.forEach(order => {
    //   //console.log(order);
    //   order.addEventListener('click', function () {
    //     console.log(event.target.dataset.goodno)
    //   })
    // })
    
    /* < for of >*/
    // for (order of btnOrders) { //Node
    //   order.addEventListener('click', function () {
    //     console.log(event.target.dataset.goodno)
    //   })
    // }

    /* < for in >*/
    // for (let btnIdx in btnOrders) { //index값
    //   btnOrders[btnIdx].addEventListener('click', function () {
    //     console.log(event.target.dataset.goodno)
    //   })
    // }

    // const newNode = `<div class="goods">
    //   <h1>상품2</h1>
    //   <img src="/images/블루베리.jpg">
    //   <div>가격: 2000</div>
    //   <div>
    //     <button data-goodno="g2" class="btnOrder" data-price="2000">주문</button>
    //     </div>
    //     </div>`
    //     document.body.insertAdjacentHTML('beforeend', newNode) //추가
        
     /////////////////////////////////////////////////////////////////////////////   


    const newNode = `<div class="goods">
      <h1>상품2</h1>
      <img src="/images/블루베리.jpg">
      <div>가격: 2000</div>
      <div>
        <button data-goodno="g2" class="btnOrder" data-price="2000">주문</button>
        </div>
        </div>`
      document.body.insertAdjacentHTML('beforeend', newNode) //추가

      let btnOrders2 = document.querySelectorAll('.btnOrder')

        for (order of btnOrders2) { //Node
          order.addEventListener('click', function () {
          console.log(event.target.dataset.goodno)
          })
        }

   

  </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="../css/styles.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script>


		$(document).ready(function () {
			//등록버튼 클릭 이벤트 등록.

			$('#addBtn').on('click', function () {

				let id = $('input[name="memberId"]').val();
				let name = $('input[name="memberName"]').val();
				let phone = $('input[name="phone"]').val();

				let template = $('tr.template').clone(); //tr요소 복제
				template.find('td:first-child').text(id);
				template.find('td:eq(1)').text(name);
				template.find('td:eq(2)').text(phone);
				template.removeClass('template');
				//console.log(template);

				$('#list').append(template); //prepend()

				$('input[name="memberId"]').val('');
				$('input[name="memberName"]').val('');
				$('input[name="phone"]').val('');
			})//end 등록이벤트.
			
			
			//전체선택
			$('.allCheck').on('click', function () {
				if ($('.allCheck').prop('checked')) {
					$('input[type=checkbox]').prop('checked', true);
				}else{
					$('input[type=checkbox]').prop('checked', false);
				}
			});

			//삭제
			$('#delSelected').on('click', function () {
				//$(':checked').parent().parent().remove(); //아래랑같음(not제외)		
					$(':checked').not('.allCheck').parentsUntil('tbody').remove();
					$('.allCheck').prop('checked', false);
			})

		})

	</script>
</head>

<body>

	<h3>회원정보</h3>
	<table class="table">
		<tr>
			<th>아이디</th>
			<td><input type="text" name="memberId"></td>
		</tr>
		<tr>
			<th>이름</th>
			<td><input type="text" name="memberName"></td>
		</tr>
		<tr>
			<th>연락처</th>
			<td><input type="text" name="phone"></td>
		</tr>
		<tr>
			<td colspan="2" align="center">
				<button id="addBtn">등록</button>
				<button id="delSelected">삭제</button>
			</td>
		</tr>
	</table>

	<h3>회원목록</h3>
	<table class="table">
		<thead>
			<tr>
				<th>회원아이디</th>
				<th>회원명</th>
				<th>회원연락처</th>
				<th><input type="checkbox" class="allCheck"></th>
			</tr>
		</thead>
		<tbody id="list">
			<tr class="template">
				<td>user1</td>
				<td>홍길동</td>
				<td>010-2342-4564</td>
				<td><input type="checkbox"></td>
			</tr>
			<tr>
				<td>user2</td>
				<td>김윤경</td>
				<td>010-2223-9864</td>
				<td><input type="checkbox"></td>
			</tr>
		</tbody>
	</table>

</body>

</html>